<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=robots content="index,follow,noarchive"><title>How to Use Case Statements in Bash Scripts - ZenBlog</title><meta name=description content="Bash case statements are powerful yet easy to write. When you revisit an old Linux script you'll be glad you used a case statement instead of a long if-then-else statement. Most programming languages have their version of a switch or case statement. These direct the flow of program execution according to the value of a"><meta name=author content="Some Person"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"ZenBlog","url":"\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"\/how-to-use-case-statements-in-bash-scripts.html","name":"How to use case statements in bash scripts"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Martina Birk"},"headline":"How to Use Case Statements in Bash Scripts","description":"Bash case statements are powerful yet easy to write. When you revisit an old Linux script you\u0027ll be glad you used a case statement instead of a long if-then-else statement. Most programming languages have their version of a switch or case statement. These direct the flow of program execution according to the value of a","inLanguage":"en","wordCount":1473,"datePublished":"2024-04-29T00:00:00","dateModified":"2024-04-29T00:00:00","image":"\/img\/avatar-icon.png","keywords":[""],"mainEntityOfPage":"\/how-to-use-case-statements-in-bash-scripts.html","publisher":{"@type":"Organization","name":"\/","logo":{"@type":"ImageObject","url":"\/img\/avatar-icon.png","height":60,"width":60}}}</script><meta property="og:title" content="How to Use Case Statements in Bash Scripts"><meta property="og:description" content="Bash case statements are powerful yet easy to write. When you revisit an old Linux script you'll be glad you used a case statement instead of a long if-then-else statement. Most programming languages have their version of a switch or case statement. These direct the flow of program execution according to the value of a"><meta property="og:image" content="/img/avatar-icon.png"><meta property="og:url" content="/how-to-use-case-statements-in-bash-scripts.html"><meta property="og:type" content="website"><meta property="og:site_name" content="ZenBlog"><meta name=twitter:title content="How to Use Case Statements in Bash Scripts"><meta name=twitter:description content="Bash case statements are powerful yet easy to write. When you revisit an old Linux script you'll be glad you used a case statement instead of a long if-then-else statement. Most programming languages …"><meta name=twitter:image content="/img/avatar-icon.png"><meta name=twitter:card content="summary"><meta name=twitter:site content="@username"><meta name=twitter:creator content="@username"><link href=./img/favicon.ico rel=icon type=image/x-icon><meta name=generator content="Hugo 0.98.0"><link rel=alternate href=./index.xml type=application/rss+xml title=ZenBlog><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet href=https://assets.cdnweb.info/hugo/bh/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/bh/css/highlight.min.css><link rel=stylesheet href=https://assets.cdnweb.info/hugo/bh/css/codeblock.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css integrity=sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css integrity=sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R crossorigin=anonymous></head><body><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><h1>How to Use Case Statements in Bash Scripts</h1><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on April 29, 2024
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;7&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;1473&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Martina Birk</span></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><h3>Quick Links</h3><ul class=table-content-level-1><li><a href=#>The case Statement</a></li></ul><ul class=table-content-level-1><li><a href=#>The Generic case</a></li></ul><ul class=table-content-level-1><li><a href=#>A Simple Example</a></li></ul><ul class=table-content-level-1><li><a href=#>Using Multiple Patterns in a Clause</a></li></ul><ul class=table-content-level-1><li><a href=#>Using Digits In case Statements</a></li></ul><ul class=table-content-level-1><li><a href=#>Using case Statements in for Loops</a></li></ul><ul class=table-content-level-1><li><a href=#>Handling Exit Codes With case Statements</a></li></ul><ul class=table-content-level-1><li><a href=#>Legibility Helps Maintainability</a></li></ul><h3 class="title icon i-list">Key Takeaways</h3><ul><li>Bash case statements make scripts easier to read and maintain compared to long if-then-else statements.</li><li>The case statement in Bash matches an expression with patterns in clauses and executes statements accordingly.</li><li>Multiple patterns can be used in a single clause, making the script more concise and efficient. Digits or numerical variables can also be used in case statements.</li></ul><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>Bash case statements are powerful yet easy to write. When you revisit an old Linux script you'll be glad you used a case statement instead of a long if-then-else statement.</p><h2 id=the-case-statement>The case Statement</h2><p>Most programming languages have their version of a switch or case statement. These direct the flow of program execution according to the value of a variable. Typically, there is a branch of execution defined for each of the expected possible values of the variable and one catch-all or default branch for all other values.</p><p>The logical functionality is similar to a long sequence of if-then statements with an else statement catching everything that hasn't been previously handled by one of the <a href=#><code>if</code></a><a href=#>statements</a>.</p><p>The <a href=#>Bash</a> implementation of case tries to match an expression with one of the clauses. It does this by looking at each clause, in turn, trying to find a matching pattern. Patterns in clauses are strings, but—counterintuitively—that doesn't mean we can't use numerical values as the expression.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><h2 id=the-generic-case>The Generic case</h2><p>The generic form of the case statement is this:</p><pre><code class="hljs xml"><span class=hljs-keyword>case</span> expression <span class=hljs-keyword>in</span><p>&nbsp;&nbsp;pattern-1)<br>&nbsp;&nbsp;&nbsp;&nbsp;statement <br>&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;pattern-2) <br>&nbsp;&nbsp;&nbsp;&nbsp;statement<br>&nbsp;&nbsp;&nbsp;&nbsp;;;<br>&nbsp;&nbsp;&nbsp;&nbsp;.<br>&nbsp;&nbsp;&nbsp;&nbsp;.<br>&nbsp;&nbsp;&nbsp;&nbsp;.</p><p>&nbsp;&nbsp;pattern-N) <br>&nbsp;&nbsp;&nbsp;&nbsp;statement <br>&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;*) <br>&nbsp;&nbsp;&nbsp;&nbsp;statement <br>&nbsp;&nbsp;&nbsp;&nbsp;;; <br><span class=hljs-keyword>esac</span></p></code> </pre><ul><li>A case statement must start with the case keyword and end with the <code>esac</code> keyword.</li><li>The expression is evaluated and compared with the patterns in each clause until a match is found.</li><li>The statement or statements in the matching clause are executed.</li><li>A double semicolon "<code>;;</code>" is used to terminate a clause.</li><li>If a pattern is matched and the statements in that clause executed, all other patterns are ignored.</li><li>There is no limit to the number of clauses.</li><li>An asterisk "<code>*</code>" denotes the default pattern. If an expression isn't matched with any of the other patterns in the case statement the default clause is executed.</li></ul><h2 id=a-simple-example>A Simple Example</h2><p>This script tells us the opening hours for an imaginary shop. It uses the <code>date</code> command with the <code>+"%a"</code> format string to obtain the shortened day name. This is stored in the <code>DayName</code> variable.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><pre><code class="hljs xml"><span class=hljs-meta>#!/bin/bash</span><p>DayName=$(date +<span class=hljs-string>"%a"</span>)</p><p><span class=hljs-built_in>echo</span>&nbsp;<span class=hljs-string>"Opening hours for <span class=hljs-variable>$DayName</span>"</span></p><p><span class=hljs-keyword>case</span> $DayName in</p><p>&nbsp;&nbsp;Mon)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>echo</span>&nbsp;<span class=hljs-string>"09:00 - 17:30"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;Tue)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>echo</span>&nbsp;<span class=hljs-string>"09:00 - 17:30"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;Wed)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>echo</span>&nbsp;<span class=hljs-string>"09:00 - 12:30"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;Thu)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>echo</span>&nbsp;<span class=hljs-string>"09:00 - 17:30"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;Fri)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>echo</span>&nbsp;<span class=hljs-string>"09:00 - 16:00"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;Sat)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>echo</span>&nbsp;<span class=hljs-string>"09:30 - 16:00"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;Sun)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>echo</span>&nbsp;<span class=hljs-string>"Closed all day"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;*)<br>&nbsp;&nbsp;&nbsp;&nbsp;;;<br><span class=hljs-keyword>esac</span><br></p></code> </pre><p>Copy that text into an editor and save it as a file called "open.sh."</p><p>We'll need to <a href=#>use the chmod command</a> to make it executable. You'll need to do that for all of the scripts you create as you work through this article.</p><pre>chmod +x open.sh</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2021/11/1.png><p>We can now run our script.</p><pre>./open.sh</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2021/11/2.png><p>The day the screenshot was taken happens to be a Friday. That means the DayName variable holds the string "Fri." This is matched with the "Fri" pattern of the "Fri)" clause.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>Note that the patterns in the clauses don't need to be wrapped in double quotes, but it doesn't do any harm if they are. However, you must use double quotes if the pattern contains spaces.</p><p>The default clause has been left empty. Anything that doesn't match one of the preceding clauses is ignored.</p><p>That script works and it is easy to read, but it is long-winded and repetitive. We can shorten that type of case statement quite easily.</p><h2 id=using-multiple-patterns-in-a-clause>Using Multiple Patterns in a Clause</h2><p>A really neat feature of case statements is you can use multiple patterns in each clause. If the expression matches any of those patterns the statements in that clause are executed.</p><p>Here's a script that tells you how many days there are in a month. There can only be three answers: 30 days, 31 days, or 28 or 29 days for February. So, although there are 12 months we only need three clauses.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>In this script, the user is prompted for the name of a month. To make the pattern matching case insensitive we use the shopt command with the "-s nocasematch" option. It won't matter if the input contains uppercase, lowercase, or a mixture of the two.</p><pre><code class="hljs xml"><span class=hljs-meta>#!/bin/bash</span><p><span class=hljs-built_in>shopt</span> -s nocasematch</p><p><span class=hljs-keyword>echo</span>&nbsp;<span class=hljs-string>"Enter name of a month"</span><br><span class=hljs-built_in>read</span> month</p><p><span class=hljs-keyword>case</span> $month in</p><p>&nbsp;&nbsp;February)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-built_in>echo</span>&nbsp;<span class=hljs-string>"28/29 days in <span class=hljs-variable>$month</span>"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;April | June | September | November)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-built_in>echo</span>&nbsp;<span class=hljs-string>"30 days in <span class=hljs-variable>$month</span>"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;January | March | May | July | August | October | December)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-built_in>echo</span>&nbsp;<span class=hljs-string>"31 days in <span class=hljs-variable>$month</span>"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;*)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-built_in>echo</span>&nbsp;<span class=hljs-string>"Unknown month: <span class=hljs-variable>$month</span>"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;;;<br><span class=hljs-keyword>esac</span><br></p></code> </pre><p>February gets a clause to itself, and all the other months share two clauses according to whether they have 30 or 31 days in them. Multi-pattern clauses use the pipe symbol "|" as the separator. The default case catches badly spelled months.</p><p>We saved this into a file called "month.sh", and made it executable.</p><pre>chmod +x month.sh</pre><p>We'll run the script several times and show that it doesn't matter if we use uppercase or lowercase.</p><pre>./month.sh</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2021/11/3.png> <strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>Because we told the script to ignore differences in uppercase and lowercase any month name spelled correctly is handled by one of the three main clauses. Badly spelled months are caught by the default clause.</p><h2 id=using-digits-in-case-statements>Using Digits In case Statements</h2><p>We can also use digits or numerical variables as the expression. This script asks the user to enter a number in the range 1..3. To make it clear that the patterns in each clause are strings, they've been wrapped in double quotes. Despite this, the script still matches the user's input to the appropriate clause.</p><pre><code class="hljs xml"><span class=hljs-meta>#!/bin/bash</span><p><span class=hljs-keyword>echo</span>&nbsp;<span class=hljs-string>"Enter 1, 2, or 3: "</span><br>read <span class=hljs-built_in>Number</span></p><p><span class=hljs-keyword>case</span> $<span class=hljs-built_in>Number</span>&nbsp;<span class=hljs-keyword>in</span></p><p>&nbsp;&nbsp;<span class=hljs-string>"1"</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>echo</span>&nbsp;<span class=hljs-string>"Clause 1 matched"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;<span class=hljs-string>"2"</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>echo</span>&nbsp;<span class=hljs-string>"Clause 2 matched"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;<span class=hljs-string>"3"</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>echo</span>&nbsp;<span class=hljs-string>"Clause 3 matched"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;*)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>echo</span>&nbsp;<span class=hljs-string>"Default clause matched"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;;;<br><span class=hljs-keyword>esac</span><br></p></code> </pre><pre>./number.sh</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2021/11/4.png><h2 id=using-case-statements-in-for-loops>Using case Statements in for Loops</h2><p>A case statement tries to pattern match a single expression. If you have a lot of expressions to process, you can put the case statement inside a for loop.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>This script executes <a href=#>the ls command</a> to get a list of files. In the for loop, file globbing—similar but different to <a href=#>regular expressions</a> —is applied to each file in turn to extract the file extension. This is stored in the Extension string variable.</p><p>The case statement uses the Extension variable as the expression it tries to match to a clause.</p><pre><code class="hljs xml"><span class=hljs-meta>#!/bin/bash</span><p><span class=hljs-keyword>for</span> File <span class=hljs-keyword>in</span> $(ls)</p><p><span class=hljs-keyword>do</span><br>&nbsp;&nbsp;<span class=hljs-comment># extract the file extension</span><br>&nbsp;&nbsp;Extension=${File<span class=hljs-comment>##*.}</span></p><p>&nbsp;&nbsp;<span class=hljs-keyword>case</span>&nbsp;<span class=hljs-string>"<span class=hljs-variable>$Extension</span>"</span>&nbsp;<span class=hljs-keyword>in</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;sh)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-built_in>echo</span>&nbsp;<span class=hljs-string>" Shell script: <span class=hljs-variable>$File</span>"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;md)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-built_in>echo</span>&nbsp;<span class=hljs-string>" Markdown file: <span class=hljs-variable>$File</span>"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;png)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-built_in>echo</span>&nbsp;<span class=hljs-string>"PNG image file: <span class=hljs-variable>$File</span>"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;*)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-built_in>echo</span>&nbsp;<span class=hljs-string>"Unknown: <span class=hljs-variable>$File</span>"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;;<br>&nbsp;&nbsp;<span class=hljs-keyword>esac</span><br><span class=hljs-keyword>done</span><br></p></code> </pre><p>Save this text into a file called "filetype.sh", make it executable, and then run it using:</p><pre>./filetype.sh</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2021/11/5.png><p>Our minimalist file type identification script works.</p><h2 id=handling-exit-codes-with-case-statements>Handling Exit Codes With case Statements</h2><p>A well-behaved program will send an exit code to the shell when it terminates. The conventional scheme uses an exit code value of zero to indicate a problem-free execution, and values of one or more to indicate different types of error.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>Many programs use only zero and one. Lumping all error conditions into a single exit code makes identifying problems more difficult, but it is common practice.</p><p>We created a small program called "go-geek" that would randomly return exit codes of zero or one. This next script calls go-geek. It acquires the exit code using the $? shell variable and uses that as the expression for the case statement.</p><p>A real-world script would do appropriate processing according to the success or failure of the command that generated the exit code.</p><pre><code class="hljs xml"><br><span class=hljs-meta>#!/bin/bash</span><p>go-geek</p><p><span class=hljs-keyword>case</span> $? <span class=hljs-keyword>in</span></p><p>&nbsp;&nbsp;<span class=hljs-string>"0"</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>echo</span>&nbsp;<span class=hljs-string>"Response was: Success"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>echo</span>&nbsp;<span class=hljs-string>"Do appropriate processing in here"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;<span class=hljs-string>"1"</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>echo</span>&nbsp;<span class=hljs-string>"Response was: Error"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>echo</span>&nbsp;<span class=hljs-string>"Do appropriate error handling in here"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;;;</p><p>&nbsp;&nbsp;*)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>echo</span>&nbsp;<span class=hljs-string>"Unrecognised response: $?"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;;;<br><span class=hljs-keyword>esac</span><br></p></code> </pre><p>Save this into a script called "return-code.sh" and make it executable. You'll need to substitute some other command for our go-geek command. You could try to cd into a directory that doesn't exist to get an exit code of one, and then edit your script to cd to an accessible directory to get an exit code of zero.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>Running the script a few times shows the different exit codes being correctly identified by the case statement.</p><pre>./return-code.sh</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2021/11/7.png><h2 id=legibility-helps-maintainability>Legibility Helps Maintainability</h2><p>Going back to old Bash scripts and working out how they do what they do, especially if they were written by someone else, is challenging. Amending the functionality of old scripts is even harder.</p><p>The case statement gives you branching logic with clear and easy syntax. That's a win-win.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7qbvWraagnZWge6S7zGhub25pbIVwtM6wZK2nXarApnnCmqqeZaOprrWxzJ6lratdnrtursCsn2ark6e2scDSaA%3D%3D</p><hr><section id=social-share><div class="list-inline footer-links"><div class=share-box aria-hidden=true><ul class=share><li><a href="//twitter.com/share?url=%2fhow-to-use-case-statements-in-bash-scripts.html&text=How%20to%20Use%20Case%20Statements%20in%20Bash%20Scripts&via=username" target=_blank title="Share on Twitter"><i class="fab fa-twitter"></i></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=%2fhow-to-use-case-statements-in-bash-scripts.html" target=_blank title="Share on Facebook"><i class="fab fa-facebook"></i></a></li><li><a href="//reddit.com/submit?url=%2fhow-to-use-case-statements-in-bash-scripts.html&title=How%20to%20Use%20Case%20Statements%20in%20Bash%20Scripts" target=_blank title="Share on Reddit"><i class="fab fa-reddit"></i></a></li><li><a href="//www.linkedin.com/shareArticle?url=%2fhow-to-use-case-statements-in-bash-scripts.html&title=How%20to%20Use%20Case%20Statements%20in%20Bash%20Scripts" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin"></i></a></li><li><a href="//www.stumbleupon.com/submit?url=%2fhow-to-use-case-statements-in-bash-scripts.html&title=How%20to%20Use%20Case%20Statements%20in%20Bash%20Scripts" target=_blank title="Share on StumbleUpon"><i class="fab fa-stumbleupon"></i></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=%2fhow-to-use-case-statements-in-bash-scripts.html&description=How%20to%20Use%20Case%20Statements%20in%20Bash%20Scripts" target=_blank title="Share on Pinterest"><i class="fab fa-pinterest"></i></a></li></ul></div></div></section></article><ul class="pager blog-pager"><li class=previous><a href=./meaning-of-apologize-remix-by-lil-wayne.html data-toggle=tooltip data-placement=top title="Meaning of Apologize (Remix) by Lil Wayne">&larr; Previous Post</a></li><li class=next><a href=./harry-mapps-fugitive-wanted-three-colorado-murders-arrested-oklahoma-html.html data-toggle=tooltip data-placement=top title="Harry Mapps, fugitive wanted for three Colorado murders, is arrested in Oklahoma">Next Post &rarr;</a></li></ul></div></div></div><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href title=RSS><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted">All rights reserved
&nbsp;&bull;&nbsp;&copy;
2024
&nbsp;&bull;&nbsp;
<a href=./>ZenBlog</a></p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Hugo v0.98.0</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a></p></div></div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe crossorigin=anonymous></script>
<script src=https://code.jquery.com/jquery-1.12.4.min.js integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin=anonymous></script>
<script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script>
<script src=https://assets.cdnweb.info/hugo/bh/js/main.js></script>
<script src=https://assets.cdnweb.info/hugo/bh/js/highlight.min.js></script>
<script>hljs.initHighlightingOnLoad()</script><script>$(document).ready(function(){$("pre.chroma").css("padding","0")})</script><script>renderMathInElement(document.body)</script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js integrity=sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js integrity=sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q crossorigin=anonymous></script><script src=https://assets.cdnweb.info/hugo/bh/js/load-photoswipe.js></script>
<script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>